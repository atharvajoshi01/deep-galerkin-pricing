# Heston Stochastic Volatility Model Configuration

experiment_name: "heston_european_call"
seed: 42

# PDE parameters
pde:
  type: "heston"
  r: 0.05
  kappa: 2.0  # Mean reversion speed
  theta: 0.04  # Long-term variance (sigma^2)
  sigma_v: 0.3  # Volatility of variance
  rho: -0.7  # Correlation
  K: 100.0
  T: 1.0
  option_type: "call"
  S_min: 0.0
  S_max: 200.0
  v_min: 0.01
  v_max: 1.0

# Model architecture
model:
  type: "dgm"
  input_dim: 3  # [t, S, v]
  hidden_dim: 80
  output_dim: 1
  num_layers: 4
  activation: "tanh"
  use_spectral_norm: false
  dropout: 0.0

# Training configuration
training:
  epochs: 3000
  n_interior: 5000  # More points for 3D problem
  n_boundary: 500
  n_initial: 500

  optimizer: "adam"
  learning_rate: 5e-4
  weight_decay: 1e-5

  lambda_pde: 1.0
  lambda_bc: 1.0
  lambda_ic: 10.0

  use_amp: false
  gradient_clip: 1.0

  use_scheduler: true
  scheduler_type: "cosine"
  warmup_epochs: 200

  early_stopping: true
  patience: 150
  min_delta: 1e-6

# Sampling
sampling:
  method: "sobol"
  use_curriculum: false

# Validation
validation:
  n_points: 2000
  compare_analytical: false
  compare_mc: true

# Logging
logging:
  log_interval: 20
  save_checkpoints: true
  checkpoint_dir: "checkpoints/heston"
  log_dir: "logs/heston"

# Evaluation
evaluation:
  S_grid_size: 50
  v_grid_size: 20
  t_grid_size: 30
  compute_greeks: true
